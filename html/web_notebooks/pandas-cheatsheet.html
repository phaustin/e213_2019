

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Pandas Cheatsheet &#8212; Numeric course 0.1 documentation</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link href="../_static/css/index.css" rel="stylesheet">
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">

<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
</button>

<div id="navbar-menu" class="collapse navbar-collapse">
  <ul id="navbar-main-elements" class="navbar-nav mr-auto">
    <li class="nav-item">
        <a class="nav-link" href="../index.html">Home</a>
    </li>
    
    
    <li class="nav-item ">
        <a class="nav-link" href="../learning_goals/learning_goals.html">Learning goals</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../week_notes.html">Weekly notes</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../solutions.html">Assignment solutions</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../texts.html">Texts</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../getting_started.html">Python</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../cheat_sheet.html">Cheat sheet</a>
    </li>
    
    <li class="nav-item ">
        <a class="nav-link" href="../notebook_index.html">Notebook index</a>
    </li>
    
    
  </ul>
  <ul class="navbar-nav ml-auto">
    
    
  </ul>
</div>
    </nav>
    

    <div class="container-fluid">
      <div class="row">
          
          <div class="col-12 col-md-3 col-xl-2 bd-sidebar">

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

  <div class="bd-toc-item active">
  

  <ul class="nav bd-sidenav">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
    </ul>

</nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              


<div class="tocsection onthispage"><i class="fas fa-list"></i> On this page</div>
<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Importing-pandas-Library" class="nav-link">Importing pandas Library</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#DataFrames-and-Series" class="nav-link">DataFrames and Series</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Reading-a-CSV-File" class="nav-link">Reading a CSV File</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Saving-to-a-CSV-File" class="nav-link">Saving to a CSV File</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Quick-and-Easy-Summaries-of-a-DataFrame" class="nav-link">Quick and Easy Summaries of a DataFrame</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#Summary-Statistics" class="nav-link">Summary Statistics</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Working-with-DataFrame-Columns" class="nav-link">Working with DataFrame Columns</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#Single-Columns" class="nav-link">Single Columns</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#Multiple-Columns" class="nav-link">Multiple Columns</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Plots" class="nav-link">Plots</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Unique-Values-&-Counting" class="nav-link">Unique Values & Counting</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Sorting" class="nav-link">Sorting</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Filtering" class="nav-link">Filtering</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Aggregation" class="nav-link">Aggregation</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Setting-the-Index-of-a-DataFrame" class="nav-link">Setting the Index of a DataFrame</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Anatomy-of-a-DataFrame" class="nav-link">Anatomy of a DataFrame</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#Selection-Methods" class="nav-link">Selection Methods</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#1.-Using-only-square-brackets" class="nav-link">1. Using only square brackets</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#2.-Positional-indexing-with-iloc" class="nav-link">2. Positional indexing with iloc</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#3.-Label-based-indexing-with-loc" class="nav-link">3. Label-based indexing with loc</a>
        </li>
    
            </ul>
        </li>
    
    </ul>
</nav>
              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
              
              <div>
                
  <h1><p>Table of Contents</p>
</h1><div class="toc"><ul class="toc-item"><li><p>1  Importing pandas Library</p>
</li><li><p>2  DataFrames and Series</p>
</li><li><p>3  Reading a CSV File</p>
</li><li><p>4  Saving to a CSV File</p>
</li><li><p>5  Quick and Easy Summaries of a DataFrame</p>
<ul class="toc-item"><li><p>5.1  Summary Statistics</p>
</li></ul></li><li><p>6  Working with DataFrame Columns</p>
<ul class="toc-item"><li><p>6.1  Single Columns</p>
</li><li><p>6.2  Multiple Columns</p>
</li></ul></li><li><p>7  Plots</p>
</li><li><p>8  Unique Values &amp; Counting</p>
</li><li><p>9  Sorting</p>
</li><li><p>10  Filtering</p>
</li><li><p>11  Aggregation</p>
</li><li><p>12  Setting the Index of a DataFrame</p>
</li><li><p>13  Anatomy of a DataFrame</p>
</li><li><p>14  Selection Methods</p>
<ul class="toc-item"><li><p>14.1  1. Using only square brackets</p>
</li><li><p>14.2  2. Positional indexing with iloc</p>
</li><li><p>14.3  3. Label-based indexing with loc</p>
</li></ul></li></ul></div><div class="section" id="Pandas-Cheatsheet">
<h1>Pandas Cheatsheet<a class="headerlink" href="#Pandas-Cheatsheet" title="Permalink to this headline">¶</a></h1>
<p>Downloaded from <a class="reference external" href="https://github.com/jenfly/eoas-python">https://github.com/jenfly/eoas-python</a> by Jennifer Walker</p>
<div class="section" id="Importing-pandas-Library">
<h2>Importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code> Library<a class="headerlink" href="#Importing-pandas-Library" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span>
</pre></div>
</div>
<blockquote>
<div><p>In general, it’s good practice to collect all your <code class="docutils literal notranslate"><span class="pre">import</span></code> commands together and put them at the start of the notebook.</p>
</div></blockquote>
</div>
<div class="section" id="DataFrames-and-Series">
<h2>DataFrames and Series<a class="headerlink" href="#DataFrames-and-Series" title="Permalink to this headline">¶</a></h2>
<p>Data in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is organized into DataFrames and Series.</p>
<ul class="simple">
<li><p><strong>DataFrame:</strong> 2-dimensional array, like a table in a spreadsheet</p>
<ul>
<li><p>The rows are axis 0</p></li>
<li><p>The columns are axis 1</p></li>
</ul>
</li>
<li><p><strong>Series:</strong> 1-dimensional array, like a single column or row in a spreadsheet</p>
<ul>
<li><p>Each individual column or row of a DataFrame is represented as a Series</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="Reading-a-CSV-File">
<h2>Reading a CSV File<a class="headerlink" href="#Reading-a-CSV-File" title="Permalink to this headline">¶</a></h2>
<p>To read a CSV file and store it as a DataFrame variable:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;some_cool_data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Missing data in a DataFrame or Series is represented as <code class="docutils literal notranslate"><span class="pre">NaN</span></code> (“not a number”).</p>
</div>
<div class="section" id="Saving-to-a-CSV-File">
<h2>Saving to a CSV File<a class="headerlink" href="#Saving-to-a-CSV-File" title="Permalink to this headline">¶</a></h2>
<p>To save a DataFrame to a CSV file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;cool_output.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>To include the DataFrame’s index as a column in the CSV file, omit the <code class="docutils literal notranslate"><span class="pre">index=False</span></code> keyword argument.</p></li>
</ul>
</div>
<div class="section" id="Quick-and-Easy-Summaries-of-a-DataFrame">
<h2>Quick and Easy Summaries of a DataFrame<a class="headerlink" href="#Quick-and-Easy-Summaries-of-a-DataFrame" title="Permalink to this headline">¶</a></h2>
<table class="table">
<colgroup>
<col style="width: 68%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>feature</strong></p></th>
<th class="head"><p>dataframe attribute/method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Useful Attributes</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Number of rows and columns (rows first, columns second)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.shape</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Names and data types of each column</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.dtypes</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Just the names of each column</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.columns</span></code></p></td>
</tr>
<tr class="row-even"><td><p><strong>Rows at a Glance</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>First <code class="docutils literal notranslate"><span class="pre">n</span></code> rows (default 5)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.head(n)</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Last <code class="docutils literal notranslate"><span class="pre">n</span></code> rows (default 5)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.tail(n)</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>A random sampling of <code class="docutils literal notranslate"><span class="pre">n</span></code> rows (default 1)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df.sample(n)</span></code></p></td>
</tr>
</tbody>
</table>
<div class="section" id="Summary-Statistics">
<h3>Summary Statistics<a class="headerlink" href="#Summary-Statistics" title="Permalink to this headline">¶</a></h3>
<p>Full set of summary statistics (min, max, mean, standard deviation, etc.) for each numerical column of a DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
<p>Mean value of each column:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<p>And similarly for other summary statistics: <code class="docutils literal notranslate"><span class="pre">df.min()</span></code>, <code class="docutils literal notranslate"><span class="pre">df.max()</span></code>, <code class="docutils literal notranslate"><span class="pre">df.median()</span></code>, <code class="docutils literal notranslate"><span class="pre">df.std()</span></code></p>
</div>
</div>
<div class="section" id="Working-with-DataFrame-Columns">
<h2>Working with DataFrame Columns<a class="headerlink" href="#Working-with-DataFrame-Columns" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Single-Columns">
<h3>Single Columns<a class="headerlink" href="#Single-Columns" title="Permalink to this headline">¶</a></h3>
<p>Each column of a DataFrame is a Series.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">series_X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Most DataFrame methods can be applied to a Series, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
<p>Basic calculations with a Series and adding a new column to a DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Double X&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="Multiple-Columns">
<h3>Multiple Columns<a class="headerlink" href="#Multiple-Columns" title="Permalink to this headline">¶</a></h3>
<p>Use a list of column names to select several columns of a DataFrame, in a specified order:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Plots">
<h2>Plots<a class="headerlink" href="#Plots" title="Permalink to this headline">¶</a></h2>
<p>Create quick and easy plots of Series and DataFrames with the <code class="docutils literal notranslate"><span class="pre">plot</span></code> method, for example: - Line plot of one column of a DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Line plot of column <code class="docutils literal notranslate"><span class="pre">'B'</span></code> vs. column <code class="docutils literal notranslate"><span class="pre">'A'</span></code> of a DataFrame:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Histogram of one column of a DataFrame:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Plot all columns of a DataFrame, with each column as a line on the same plot:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Plot bar charts of each column of a DataFrame, with a separate subplot for each column:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Plots can be adjusted with keyword arguments such as <code class="docutils literal notranslate"><span class="pre">figsize</span></code>, <code class="docutils literal notranslate"><span class="pre">fontsize</span></code>, <code class="docutils literal notranslate"><span class="pre">title</span></code>, <code class="docutils literal notranslate"><span class="pre">colormap</span></code>. - To adjust the size of a graph, use the <code class="docutils literal notranslate"><span class="pre">figsize</span></code> keyword argument to the <code class="docutils literal notranslate"><span class="pre">plot</span></code> method, where <code class="docutils literal notranslate"><span class="pre">figsize</span></code> is a tuple of (width, height). For example to create 6” wide by 8” tall figure with subplots:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="Unique-Values-&amp;-Counting">
<h2>Unique Values &amp; Counting<a class="headerlink" href="#Unique-Values-&-Counting" title="Permalink to this headline">¶</a></h2>
<p>For a column <code class="docutils literal notranslate"><span class="pre">df['A']</span></code> which contains many repeated values (such as categories), some useful summary methods are:</p>
<table class="table">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>feature</strong></p></th>
<th class="head"><p>method</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Unique values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df['A'].unique()</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Number of unique values</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df['A'].nunique()</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Counts of each unique value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df['A'].value_counts()</span></code></p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>Note: The <code class="docutils literal notranslate"><span class="pre">unique</span></code>, <code class="docutils literal notranslate"><span class="pre">nunique</span></code>, and <code class="docutils literal notranslate"><span class="pre">value_counts</span></code> methods can only be applied to a Series (not a DataFrame)</p>
</div></blockquote>
</div>
<div class="section" id="Sorting">
<h2>Sorting<a class="headerlink" href="#Sorting" title="Permalink to this headline">¶</a></h2>
<p>Sorting a DataFrame based on the values in the column <code class="docutils literal notranslate"><span class="pre">'B'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To sort in descending order, use the keyword argument <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code>.</p>
<p>Sorting a Series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">series_a</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="Filtering">
<h2>Filtering<a class="headerlink" href="#Filtering" title="Permalink to this headline">¶</a></h2>
<p>To select a subset of rows with a filter: - Create a filter (Boolean Series) using a comparison operator or other functions (such as the <code class="docutils literal notranslate"><span class="pre">isnull</span></code> method) - Use the filter to extract the desired rows from the DataFrame</p>
<p>Example: comparison operator</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">warm</span> <span class="o">=</span> <span class="n">weather_data</span><span class="p">[</span><span class="s1">&#39;Temperature (C)&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">25</span>
<span class="n">weather_warm</span> <span class="o">=</span> <span class="n">weather_data</span><span class="p">[</span><span class="n">warm</span><span class="p">]</span>
</pre></div>
</div>
<p>You can also use Boolean Series and DataFrames to count occurrences of specified criteria, for example: count the missing values in each column of a DataFrame with <code class="docutils literal notranslate"><span class="pre">df.isnull().sum()</span></code></p>
</div>
<div class="section" id="Aggregation">
<h2>Aggregation<a class="headerlink" href="#Aggregation" title="Permalink to this headline">¶</a></h2>
<p>For basic aggregation operations, use the <code class="docutils literal notranslate"><span class="pre">groupby</span></code> method chained with an aggregation method (e.g., <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">mean</span></code>, <code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code>, etc.).</p>
<p>For example, to find the sum totals of column <code class="docutils literal notranslate"><span class="pre">'population'</span></code> grouped by column <code class="docutils literal notranslate"><span class="pre">'region'</span></code>: `</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>You can also group by multiple columns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;income_group&#39;</span><span class="p">])[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
<p>For more complex aggregations, you can use the <code class="docutils literal notranslate"><span class="pre">agg</span></code> method. - Specify a list of aggregation statistics, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)[</span><span class="s1">&#39;population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Use a dictionary to specify different aggregation statistics for different columns, for example:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">agg_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;population&#39;</span> <span class="p">:</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;life_expectancy&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">]}</span>
<span class="n">world</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;region&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">agg_dict</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="Setting-the-Index-of-a-DataFrame">
<h2>Setting the Index of a DataFrame<a class="headerlink" href="#Setting-the-Index-of-a-DataFrame" title="Permalink to this headline">¶</a></h2>
<p>The index of a DataFrame can be set with the <code class="docutils literal notranslate"><span class="pre">set_index</span></code> method. For example, to set the column <code class="docutils literal notranslate"><span class="pre">'country'</span></code> as the index of DataFrame <code class="docutils literal notranslate"><span class="pre">world</span></code> and save the output as a new DataFrame:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world_new</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;country&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="Anatomy-of-a-DataFrame">
<h2>Anatomy of a DataFrame<a class="headerlink" href="#Anatomy-of-a-DataFrame" title="Permalink to this headline">¶</a></h2>
<p><img alt="dataframe3" src="web_notebooks/img/dataframe3.png" /></p>
<ul class="simple">
<li><p>Each cell in a DataFrame is associated with:</p>
<ul>
<li><p>A row position and column position (integers, starting from 0), and</p></li>
<li><p>A row label and column label</p></li>
</ul>
</li>
<li><p>Row and column labels are part of the DataFrame’s metadata, stored in attributes:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">df.index</span></code> contains the labels for the DataFrame’s rows</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.columns</span></code> contains the labels for the DataFrame’s columns</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">df.values</span></code> contains the underlying data array</p></li>
</ul>
</div>
<div class="section" id="Selection-Methods">
<h2>Selection Methods<a class="headerlink" href="#Selection-Methods" title="Permalink to this headline">¶</a></h2>
<p>There are three main ways of selecting subsets of a DataFrame (or Series):</p>
<ol><li><p>Using only square brackets <code class="docutils literal notranslate"><span class="pre">[]</span></code></p>
</li><li><p>Positional indexing with <code class="docutils literal notranslate"><span class="pre">.iloc[]</span></code></p>
</li><li><p>Label-based indexing with <code class="docutils literal notranslate"><span class="pre">.loc[]</span></code></p>
</li></ol><div class="section" id="1.-Using-only-square-brackets">
<h3>1. Using only square brackets<a class="headerlink" href="#1.-Using-only-square-brackets" title="Permalink to this headline">¶</a></h3>
<table class="table">
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Bracket indexing</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Use a Boolean Series to select rows matching some criteria</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df[bool_series]</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Use a list of column names to select several columns in a specified order</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df[['E',</span> <span class="pre">'A',</span> <span class="pre">'C']]</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Select a single column (as a Series)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">series_A</span> <span class="pre">=</span> <span class="pre">df['A']</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Select a single column (as a DataFrame)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">df_A</span> <span class="pre">=</span> <span class="pre">df[['A']]</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="2.-Positional-indexing-with-iloc">
<h3>2. Positional indexing with <code class="docutils literal notranslate"><span class="pre">iloc</span></code><a class="headerlink" href="#2.-Positional-indexing-with-iloc" title="Permalink to this headline">¶</a></h3>
<p>With <code class="docutils literal notranslate"><span class="pre">iloc</span></code>, we specify the row selection first, followed by column selection, separated by a comma. For example, selecting a single cell at row 2, column 4:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>With <code class="docutils literal notranslate"><span class="pre">iloc</span></code> can select: - A single cell - A single row or column - Slices of rows and/or columns - As with Python lists, <code class="docutils literal notranslate"><span class="pre">iloc</span></code> slices are inclusive of the start bound and exclusive of the stop bound - Multiple rows and/or columns in arbitrary order, using a list of positions</p>
<p>A few examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">100</span><span class="p">:</span><span class="mi">201</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="mi">3</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">175</span><span class="p">:,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="section" id="3.-Label-based-indexing-with-loc">
<h3>3. Label-based indexing with <code class="docutils literal notranslate"><span class="pre">loc</span></code><a class="headerlink" href="#3.-Label-based-indexing-with-loc" title="Permalink to this headline">¶</a></h3>
<p>As with <code class="docutils literal notranslate"><span class="pre">iloc</span></code>, we specify the row selection first, followed by column selection, separated by a comma, but using the row and column labels instead of their positions. For example, selecting a single cell at a row labelled <code class="docutils literal notranslate"><span class="pre">'Algeria'</span></code> and a column labelled <code class="docutils literal notranslate"><span class="pre">'life_expectancy'</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Algeria&#39;</span><span class="p">,</span> <span class="s1">&#39;life_expectancy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Similar to <code class="docutils literal notranslate"><span class="pre">iloc</span></code>, with <code class="docutils literal notranslate"><span class="pre">loc</span></code> we can select: - A single cell - A single row or column - Slices of rows and/or columns - However, unlike <code class="docutils literal notranslate"><span class="pre">iloc</span></code> and Python list slicing, <code class="docutils literal notranslate"><span class="pre">loc</span></code> slices are inclusive of the start bound but also <strong>inclusive</strong> of the stop bound. - Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">world_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;Canada&#39;</span><span class="p">:</span><span class="s1">&#39;Denmark&#39;</span><span class="p">,</span> <span class="s1">&#39;income_group&#39;</span><span class="p">:</span><span class="s1">&#39;gdp_per_capita&#39;</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Multiple rows and/or columns in arbitrary order, using a list of labels</p></li>
</ul>
<p>We can also select rows and/or columns with a Boolean Series, and mix and match these with the other selection options listed above, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">densely_populated</span> <span class="o">=</span> <span class="n">world_new</span><span class="p">[</span><span class="s1">&#39;pop_density&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">500</span>
<span class="n">world_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">densely_populated</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;region&#39;</span><span class="p">,</span> <span class="s1">&#39;pop_density&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                

              </div>
              
          </main>
          

      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    <footer class="footer">
  <div class="container">
    <p>
          &copy; Copyright Numeric project.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>